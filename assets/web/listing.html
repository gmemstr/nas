{{ $path := .Path }}
{{ $prev := .Previous }}
{{ $prefix := .Prefix }}
{{ $singleprefix := .SinglePrefix }}
<html>
<head>
    <title>{{ $path }} | PiNas</title>
    <link rel="stylesheet" href="/assets/styles.css">
</head>
<body>
<header>
    <a href="/" class="back-button">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none"
             stroke="#000000" stroke-width="1" stroke-linecap="square" stroke-linejoin="bevel">
            <circle cx="12" cy="12" r="10"/>
            <path d="M12 8l-4 4 4 4M16 12H9"/>
        </svg>
    </a>
    <h1 style="display: inline-block">PiNas</h1>
</header>
<main>
    <div>
        <h1>{{$prefix}}/{{$path}}</h1>
    </div>
    <div class="content">
        <p class="directory"><a href="/{{$prefix}}/{{$prev}}">..</a></p>
        {{range $file := .Files}}
            {{ if $file.IsDir }}
                <p class="directory"><a href="/{{$prefix}}/{{$path}}/{{$file.Name}}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                             stroke="#000000" stroke-width="1" stroke-linecap="square" stroke-linejoin="bevel">
                            <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
                        </svg>
                        </svg>
                        {{$file.Name}}</a>
                </p>
            {{ end }}
            {{ if not $file.IsDir }}
                <p class="file"><a href="/{{$singleprefix}}/{{$path}}/{{$file.Name}}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                             stroke="#000000" stroke-width="1" stroke-linecap="square" stroke-linejoin="bevel">
                            <path d="M13 2H6a2 2 0 0 0-2 2v16c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V9l-7-7z"/>
                            <path d="M13 3v6h6"/>
                        </svg>
                        {{$file.Name}}</a>
                </p>
            {{end}}
        {{end}}
    </div>
</main>
</body>
</html>